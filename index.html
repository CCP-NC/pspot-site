<!DOCTYPE html  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd" encoding="UTF-8">

<!--
CASTEP Pseudopotential Library Browser
by Simone Sturniolo

A webpage allowing to browse data about the various pseudopotential libraries defined within the CASTEP software.
A CCP-NC project funded by STFC and EPSRC.

Copyright 2016 Science and Technology Facilities Council
This program is distributed under the terms of the GNU General Public License (GNU GPL)
Please refer to the file COPYING for the text of the license
-->

<!-- This page provides a general index in the form of a periodic table -->

<html>
    <head>

        <title>The CASTEP pseudopotential library</title>

        <!-- CSS stylesheets -->
        <link href="stylesheet.css" rel="stylesheet">

        <!-- JS Libraries -->
        <script src="lib/jquery/jquery-1.11.3.min.js"></script>
        <script src="lib/d3/d3.min.js"></script>

        <!-- Source code files -->
        <script src="js/periodic_table.js"></script>
        <script src="js/resizing.js"></script>
        <script src="js/info_box.js"></script>
        <script src="js/pspot_list.js"></script>
        <script src="js/url_params.js"></script>

        <!-- Useful snippets -->
        <script>
            function pspot_url(pspot) {
                return makeUrl('pspot.html', {'lib': pspot.library,
                                              'el': pspot.ELEMENT});
            }
        </script>

    </head>
    <body class="dark">

        <div class="periodic_table"></div>
        <div class="lantact_table"></div>

        <div class="info_box">
            <span class="info_name">Element</span>
            <div>
                <div class="info_main">
                    <b>Symbol:</b> <span class="info_symbol"></span><br>
                    <b>Group:</b> <span class="info_group"></span><br>
                    <b>Electronic config.:</b> <span class="info_elstate"></span><br>
                    <b>Bond type:</b> <span class="info_bond"></span><br>                
                </div>
                <div id="info_pspot">
                    <b>Default:</b><br>
                    <span id="info_pspot_default"></span>
                    <span id="info_pspot_nodefault" class="not_found">No default found.</span>
                    <br>
                    <br>
                    <div class="pspot_list_show divbutton">Show all</div>
                </div>
                <div id="info_nopspot" class="not_found">
                    No pseudopotential files available for this element.
                </div>
            </div>  
            <a class="help_link" href="help/help.html">
            [?]
            </a>
        </div>

        <div class="dark_screen">
            <div class="white_box" onclick="(function(e) {e.stopPropagation();})(event)">
                <table class="pspot_list_table">
                    <thead>
                        <tr><td>Pseudopotential name</td><td>Cutoff (eV, FINE quality)</td><td>XC functional</td></tr>
                    </thead>
                    <tbody>                     
                        <tr><td><a href="test.html">Test</a></td><td>300</td><td>LDA</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <script type="text/javascript">

        $(document).ready(function() {

            var mendvTable;
            var iBox;
            var ppList;
            var pspot_files;
            var periodic_table;

            // First load all the important data
            $.when(
                $.getJSON("pspot_data.json", function(data) {
                    pspot_files = data;
                    console.log("Pseudopotential file list loaded");                 
                    console.log(pspot_files);
                }),
                $.getJSON("data/periodic_table/data_tabulated.json", function(data) {
                    periodic_table = data;
                })
            ).then(function() {
                // Initialize the info box
                ppList = new PsPotList(pspot_files);
                iBox = new InfoBox(pspot_files, ppList);
                // When everything is ready, initialize the table, then everything else
                mendvTable = new MendvTable(periodic_table, iBox);
                resize_all();            
            });
        });

        </script>
    </body>
</html>